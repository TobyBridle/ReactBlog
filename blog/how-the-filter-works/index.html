<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.aa9526ca72bb5e33ccf6.css" data-identity="gatsby-global-css">div.additional-comment{color:var(--navbar-muted);font-family:"Noto Serif",serif;font-style:italic;padding:10px 0 25px;position:relative;text-align:center;width:100%}pre.prism-code *{color:#fff;font-family:Fira Code,sans-serif}pre.prism-code{border-radius:1em;margin:2em 0 1em;overflow:auto;padding:1em}pre.prism-code .line-number{color:var(--action-color)}.navbar-wrapper{height:12.5vh;position:relative;width:100%}nav{align-items:center;display:flex;padding:2vh 0;position:fixed;width:100%}.navlinks{display:flex;font:var(--body-family);font-family:Epilogue,sans-serif;letter-spacing:.01em;list-style:none}.navlinks li,.navlinks li a{color:var(--navbar-muted);cursor:pointer;font-size:clamp(.65rem,.4vw + .5rem,.875rem);margin:0 clamp(0em,.95vw,4.25em);padding:clamp(.5em,.8vw,.7em);transition:background .5s ease}.navlinks li:last-child,.navlinks li a{margin-right:0}.navlinks li:hover a{background:var(--navbar-hover);color:var(--background)}nav h3{flex:1 1}nav h3 a{color:var(--muted-color)!important;font:var(--heading-family);font-size:clamp(1.3rem,.8vw + .7rem,1.5rem);letter-spacing:.025em;text-transform:uppercase}.navlinks .active-nav,.navlinks .active-nav a{color:var(--navbar-active);font-weight:700;pointer-events:none;text-decoration:none}@media screen and (max-width:700px){nav{flex-direction:column;gap:2.5vh;margin:0 0 2.5vh}.navlinks{justify-content:space-between;width:calc(100% + clamp(.5em, .8vw, .7em)*4.5)}.navlinks li{margin:0}}@media (hover:none){.navlinks li:hover a{background:transparent;color:var(--navbar-active)}}:root{--heading-family:bold 1.5em/1 "Poppins",sans-serif;--body-family:normal 0.875em/1.5 "Noto Serif",serif}.theme-light{--color:#424242;--muted-color:#424242;--background:#f4f4f4;--header-color:#221f2f;--page-split-color:#e9e9e9;--action-background:#f0f0f0;--action-color:#4f4f4f;--filter-post-background:#e9e9e9;--filter-post-inactive-text:#313131;--filter-post-active-text:#313131;--author-color:#464646;--article-title:#313131;--blog-chip-color:#454545;--blog-chip-background:#e9e9e9;--reading-time-clock:#8a8a8a;--reading-time-text:#313131;--blog-image-placeholder:#edecec;--navbar-active:#3c3c3c;--navbar-muted:#686868ad;--navbar-hover:#333;--link-color:#5250bb;--theme-toggle-color:#ffdab9;--theme-toggle-background:rgba(55,55,55,.3)}.theme-dark{--color:#e5e5e5;--muted-color:#c2c2c2;--background:#181818;--header-color:#e5e5e5;--page-split-color:#212121;--action-background:#2d2d2d;--action-color:#a6a6a6;--filter-post-background:#fff;--filter-post-inactive-text:#fff;--filter-post-active-text:#181818;--author-color:#cacaca;--article-title:#f8f8f8;--blog-chip-color:#d9d9d9;--blog-chip-background:#2b2b2b;--reading-time-clock:#fff;--reading-time-text:#fff;--blog-image-placeholder:#151515;--navbar-active:#f5f5f5;--navbar-muted:#8f8f8f;--navbar-hover:#f4f4f4;--link-color:#9493dd;--theme-toggle-color:#ffdab9;--theme-toggle-background:rgba(55,55,55,.3)}.page-content-top{display:flex;justify-content:space-between;margin-bottom:5vh;width:calc(100% - clamp(.5em, .8vw, .7em))}.page-meta{display:flex;flex:1 1;flex-direction:column;gap:1vh;max-width:50%}.page-content-header{color:var(--header-color);font:var(--heading-family);font-size:clamp(1.31rem,1.2vw + 1.1rem,3rem)}.page-content-description{color:var(--muted-color);font:var(--body-family);font-size:clamp(.875rem,.5vw + .6rem,1.125rem);letter-spacing:.03em}.page-actions{align-items:center;display:flex;flex:1 1;gap:2vw;height:calc(clamp(1.31rem, 1.2vw + 1.1rem, 3rem)*1);max-width:clamp(500px,38%,60vw)}.page-actions .bookmarks-button,.page-actions .search-bar,.page-actions .search-bar input{background:var(--action-background);color:var(--action-color);flex:1 1;min-height:max(40px,4vh)}.bookmarks-button,.search-bar-placeholder,.search-bar input{font-family:Epilogue,sans-serif;font-size:.8em;font-weight:600;letter-spacing:.01em}.search-bar{align-items:center;display:flex;flex:1 1;position:relative}.search-bar-icon{stroke-width:35px;stroke:var(--background);left:1.4em;position:absolute;z-index:1}.search-bar-placeholder{left:4.2em;pointer-events:none;position:absolute;z-index:1}.search-bar input{color:var(--header-color)!important;font-weight:400;padding:0 2em 0 4em}.search-bar input:not(:-ms-input-placeholder)~.search-bar-placeholder{display:none}.search-bar input:focus~.search-bar-placeholder,.search-bar input:not(:placeholder-shown)~.search-bar-placeholder{display:none}.bookmarks-button{align-items:center;display:flex;gap:1.5em;justify-content:center}@media screen and (max-width:950px){.page-content-top{flex-direction:column;gap:2vh;margin-bottom:1.5vh;width:100%}.page-actions{max-width:calc(100% - clamp(.5em, .8vw, .7em))}}@media screen and (max-width:650px){.page-content-description{display:none}.page-actions{align-items:flex-start;flex-direction:column;max-width:clamp(300px,38%,60vw)}.page-actions .bookmarks-button,.page-actions .search-bar{width:100%}.page-actions .bookmarks-button{justify-content:flex-start;padding:0 2em}}.filter-container{align-items:center;display:inline-flex;position:relative}.filter-following,.filter-popular{background:transparent;color:var(--filter-post-inactive-text);flex:1 1;font-family:Epilogue,sans-serif;font-size:.8em;font-weight:500;min-height:max(40px,4vh);outline:1px solid var(--filter-post-background);position:relative;width:calc(clamp(1.31rem, 1.2vw + 1.1rem, 3rem)*3.5 + 1px);z-index:1}.filter-following:active,.filter-popular:active{border:0}.filter-following.active-post-filter,.filter-popular.active-post-filter{color:var(--filter-post-active-text)}.slide-right{-webkit-transform:translateX(100%);transform:translateX(100%)}.active-filter-slider{background-color:var(--filter-post-background);height:100%;left:0;position:absolute;top:0;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;width:50%}.active-post-filter{color:var(--filter-post-text)}@media only screen and (max-width:950px){.filter-container{gap:2vw;min-height:max(40px,4vh);width:calc(100% - clamp(.5em, .8vw, .7em))}.active-filter-slider{border:2px solid var(--filter-post-background);width:calc(50% - 1vw + 1px)}.slide-right{-webkit-transform:translateX(calc(100% + 2vw - 1px));transform:translateX(calc(100% + 2vw - 1px))}.filter-following,.filter-popular{height:calc(clamp(1.31rem, 1.2vw + 1.1rem, 3rem)*1)}}@media only screen and (max-width:650px){.filter-container{max-width:clamp(300px,38%,60vw);top:2vh}.slide-right{-webkit-transform:translateX(calc(100% + 2vw));transform:translateX(calc(100% + 2vw))}.active-filter-slider{border:0;outline:0;width:calc(50% - 1vw)}}*,:after,:before{border:0;box-sizing:border-box;color:var(--color);margin:0;outline:0;padding:0;text-decoration:none}button:hover{cursor:pointer;filter:brightness(.95);-webkit-filter:brightness(.95)}button:active,input:active{border-bottom:1px solid var(--action-color)}body{background:var(--background);color:var(--color);font-family:var(--body-family);height:100vh;letter-spacing:1px;padding:2vh calc(clamp(.5em, .8vw, .7em)*1.75);position:absolute;width:100%}.App{display:flex;flex-direction:column;gap:2vh;height:100vh;position:absolute;width:85vw}.App,.page-content{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.page-content{height:87.5vh;position:relative;width:100%}.watermark-404{color:var(--blog-image-placeholder);font:var(--heading-family);font-size:clamp(20px,50vw,300px);font-weight:600;left:-7.5vw;pointer-events:none;position:absolute;width:100%;z-index:-1}.content-404{align-items:center;display:flex;flex-direction:column;font-family:Poppins,sans-serif;font-size:16px;font-weight:600;gap:clamp(30px,1vh,100px);text-align:center;-webkit-transform:translateY(50%);transform:translateY(50%)}.content-404 h2{color:var(--navbar-muted);font-size:clamp(1.5rem,2.2vw + 1rem,3.125rem);width:calc(clamp(1.5rem, 2.2vw + 1rem, 3.125rem)*10)}.content-404 span{font-family:Open Sans,sans-serif;font-weight:400}.content-404 span a{font-weight:600;text-decoration:underline}.App{align-items:center}.page-content.post-container{align-items:center;display:flex;flex-direction:column;height:87.5vh;left:0;position:static;-webkit-transform:none;transform:none;width:max(750px,65%)}.post-info{font-family:Epilogue,sans-serif;letter-spacing:normal;margin-bottom:clamp(25px,5.005vh,400px);width:78%}.title{color:var(--navbar-active);font-size:clamp(1.5rem,.9vw + 1.1rem,2rem);font-weight:600;line-height:1.43}.post-info-meta{display:flex;flex-direction:column;gap:clamp(5px,1vh,20px);margin:clamp(25px,3.5vh,400px) 0}.post-info-meta div{align-items:center;color:var(--navbar-active);display:flex;font-family:Epilogue,sans-serif;font-size:.875em;font-weight:500;gap:max(1vw,15px)}.post-info-meta p{color:var(--navbar-muted);font-weight:600}.post-image{position:relative;width:100%}.post-image:before{background:var(--navbar-muted);content:"";height:100%;left:0;opacity:.05;position:absolute;top:0;z-index:1}.post-image:before,.post-image img{border-radius:3px;max-height:400px;width:100%}.post-image img{left:50%;max-width:100%;-o-object-fit:fill;object-fit:fill;position:relative;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.post-image img.no-squish{-o-object-fit:scale-down;object-fit:scale-down}.post-info hr{margin-top:1vh}.post-bookmark{align-items:center;bottom:0;color:var(--navbar-muted);display:flex;font-family:Open Sans,serif;justify-content:space-evenly;margin:10px;padding:5px;position:fixed;right:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.post-bookmark svg{box-sizing:content-box;padding:10px}.post-bookmark svg path{color:var(--navbar-muted)}.post-bookmark:hover{cursor:pointer;text-decoration:underline}.post-content{max-width:78%}.post-content h1{color:var(--navbar-active);font-family:"Noto Serif",Times New Roman,Times,serif;font-size:1.3125em;line-height:1.6;margin:1.575em 0 .7875em}.post-content p{color:var(--color);font-family:Open Sans,sans-serif;font-size:1em;line-height:1.9;padding:4.5px}.post-content a,.post-content a *{color:var(--link-color);text-decoration:underline}.post-content code{background-color:var(--blog-chip-background);border-radius:3px;color:var(--action-color);font-family:Fira Code,monospace;font-size:.85em;padding:3px 6px}.post-content ul,ol{font-family:Open Sans,sans-serif;padding:25px}@media only screen and (max-width:1600px){.page-content.post-container{width:85%}}@media only screen and (max-width:1200px){.post-bookmark span{display:none}}@media only screen and (max-width:950px){.page-content.post-container{width:100%}}@media only screen and (max-width:650px){.page-content.post-container{width:100vw}body{font-size:14px}}.pageSplit{background:var(--page-split-color);position:absolute}.pageSplit.split-position-absolute.left{left:50%;top:-2vh;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.pageSplit.split-position-absolute.bottom{bottom:-2vh;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.pageSplit.bottom.narrow,.pageSplit.top.narrow{height:1px;width:50%}.pageSplit.bottom.medium,.pageSplit.top.medium{height:1px;width:75%}.pageSplit.bottom.large,.pageSplit.top.large{height:1px;width:100%}.pageSplit.split-position-absolute.left{left:-2vw;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pageSplit.split-position-absolute.right{right:-2vw;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pageSplit.left.narrow,.pageSplit.right.narrow{height:50%;width:1px}.pageSplit.left.medium,.pageSplit.right.medium{height:75%;width:1px}.pageSplit.none{display:none}.page-content.use-temp .page-content-top{margin-bottom:0}.PostsContainer.AllArticles-Flow{-webkit-column-gap:0;column-gap:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(477px,1fr));height:auto;overflow-y:hidden;width:100%}.PostsContainer.AllArticles-Flow .blog-route{height:auto;width:90%}@media only screen and (max-width:950px){.AllArticles-Flow .blog-route,.PostsContainer.AllArticles-Flow{width:100%}.AllArticles-Flow .blog-route .blog-route-description{max-width:80%}}@media only screen and (max-width:600px){.PostsContainer.AllArticles-Flow .blog-route{width:calc(100% - 4em)}}@media only screen and (max-width:450px){.PostsContainer.AllArticles-Flow{width:100%}.PostsContainer.AllArticles-Flow .blog-route{width:67%}}.bookmark-page .bookmarks-button{cursor:auto;opacity:.5;pointer-events:none}.PostsContainer{flex-direction:column;gap:5vh;height:55vh;overflow-x:hidden;overflow-y:auto;top:8vh;width:50%}.blog-route,.PostsContainer{display:flex;position:relative}.blog-route{font-family:Poppins,sans-serif;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:100%}.blog-route-left,.blog-route-right{display:flex;flex-direction:column;gap:.4em}.blog-route-left{flex:1 1}.blog-route .blog-route-author-info{align-items:center;color:var(--author-color);display:flex;font-size:clamp(.75rem,.4vw + .5rem,.875rem);gap:clamp(10px,.75vw,45px);letter-spacing:.01em;margin-bottom:1vh}.blog-route .blog-route-author-profile{border-radius:50%;height:2em;width:2em}.blog-route .blog-route-author-profile img{border-radius:inherit;height:100%;width:100%}.blog-route .blog-route-title{color:var(--article-title);font-size:clamp(1rem,.2vw + .9rem,1.125rem);font-weight:600;letter-spacing:normal;max-width:calc(100% - 2.25em)}.blog-route .blog-route-description{color:var(--blog-chip-color);font-family:"Noto Serif",serif;font-size:clamp(.65rem,.4vw + .5rem,.875rem);letter-spacing:.4px;line-height:1.5;max-width:60%}.blog-route .blog-route-tags{align-items:center;display:flex;flex-wrap:wrap;gap:1vw;margin-top:1vh}.blog-route-tags .blog-route-tag{background:var(--blog-chip-background);border-radius:2em;color:var(--blog-chip-color);font-size:clamp(.5em,2vw,.75em);font-weight:600;letter-spacing:normal;padding:.2em .725em}.blog-route .blog-route-thumbnail{height:4.5em;position:relative;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:4.5em}.blog-route .blog-route-thumbnail img{background-color:var(--post-img-bg);border-radius:.3em;color:var(--author-color);font-size:small;height:100%;-o-object-fit:fill;object-fit:fill;text-align:center;width:100%}.blog-route .blog-route-estimated{align-items:center;bottom:0;color:var(--reading-time-text);display:inline-flex;font-size:clamp(.5em,2vw,.75em);font-weight:600;gap:5px;letter-spacing:normal;position:absolute;right:0}.blog-route-estimated svg{color:var(--reading-time-clock);font-size:.7em}@media only screen and (max-width:950px){.PostsContainer{width:calc(100% - clamp(.5em, .8vw, .7em))}.blog-route{width:100%}.blog-route .blog-route-description{max-width:80%}}@media only screen and (max-width:650px){.blog-route-thumbnail{max-height:3.5em;max-width:3.5em}}section.post-end-mention{display:block;margin:30px 0 0}section.post-end-mention p{font-family:"Noto Serif",Times New Roman,Times,serif}</style><meta name="generator" content="Gatsby 4.4.0"/><link href="https://fonts.googleapis.com/css?family=Poppins:400,600,700|Epilogue:500,600,700|Noto+Serif:400,600,700|Open+Sans:400,700|Fira+Code:400&amp;display=swap" rel="stylesheet"/><title data-react-helmet="true">Toby Bridle | How does the Filtering Work?</title><link data-react-helmet="true" rel="icon" href="https://blog.bridle.ml//assets/favicon-light.svg"/><link data-react-helmet="true" rel="icon" href="https://blog.bridle.ml//assets/favicon-dark.svg" media="(prefers-color-scheme: dark)"/><link data-react-helmet="true" rel="manifest" href="https://blog.bridle.ml//assets/manifest.json" crossorigin="use-credentials"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="https://blog.bridle.ml//assets/apple-touch.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="https://blog.bridle.ml//assets/apple-touch-dark.png" media="(prefers-color-scheme: dark)"/><link data-react-helmet="true" rel="icon" sizes="32x32" href="https://blog.bridle.ml//assets/favicon-light.ico"/><link data-react-helmet="true" rel="icon" sizes="32x32" href="https://blog.bridle.ml//assets/favicon-dark.ico" media="(prefers-color-scheme: dark)"/><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" name="description" content="An Article explaining how the filter system would be used."/><meta data-react-helmet="true" name="author" content="Not Toby Bridle"/><meta data-react-helmet="true" name="theme-color" content="#f4f4f4"/><meta data-react-helmet="true" name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta data-react-helmet="true" name="robots" content="index,nofollow"/><meta data-react-helmet="true" http-equiv="content-language" content="en-us"/><meta data-react-helmet="true" property="og:site_name" content="Toby Bridle | Portfolio"/><meta data-react-helmet="true" property="og:title" content="Toby Bridle | How does the Filtering Work?"/><meta data-react-helmet="true" name="twitter:title" content="Toby Bridle | How does the Filtering Work?"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:description" content="An Article explaining how the filter system would be used."/><meta data-react-helmet="true" name="twitter-description" content="An Article explaining how the filter system would be used."/><meta data-react-helmet="true" property="og:image" content="how-the-filter-works.svg"/><meta data-react-helmet="true" property="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="twitter:url" content="https://blog.bridle.ml"/><meta data-react-helmet="true" property="twitter:image" content="how-the-filter-works.svg"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-ee42ac0f5db69c33ee5a.js"/><link as="script" rel="preload" href="/framework-308bfafcc2bf57ff7eac.js"/><link as="script" rel="preload" href="/0a301732-c83d1dc0decdc7b88c62.js"/><link as="script" rel="preload" href="/app-267c7bc75c8d6c0d2c8d.js"/><link as="script" rel="preload" href="/cb1608f2-37f2ece6bf5c23bd2961.js"/><link as="script" rel="preload" href="/commons-bac9da5dacef3d40fc4f.js"/><link as="script" rel="preload" href="/dd5287d64aad19286121411131caa95e8f1b285a-387515786fb9c57f3263.js"/><link as="script" rel="preload" href="/component---src-pages-mdx-frontmatter-slug-js-adba15d96dca62afcad8.js"/><link as="fetch" rel="preload" href="/page-data/blog/how-the-filter-works/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="App"><section class="navbar-wrapper"><nav><h3 class="logo"><a href="/explore/">Bridle</a></h3><ul class="navlinks"></ul></nav></section><section class="page-content post-container"><div class="post-info"><h1 class="title">How does the Filtering Work?</h1><div class="post-info-meta"><div class="post-meta-author"><p>Author:</p>Not Toby Bridle</div><div class="post-meta-date"><p>Date:</p>December 27 2021</div></div><div class="post-image"><img class="no-squish" src="https://blog.bridle.ml/assets/Banners/how-the-filter-works.svg" alt="Thumbnail"/></div><hr class="pageSplit bottom narrow slim split-position-relative"/></div><div class="post-content"><h1>How the Filter System currently works</h1><p>At the moment, since this is just a static page, GraphQL retrieves a list of articles &amp; their metadata.
This metadata contains lots of useful information, but what we use for the filtering is <code>rank</code> &amp; <code>following</code>. The <code>rank</code> property shows how high on the <strong>Popular</strong> filter the article should be, and <code>following</code> just indicates that the article should be on the <strong>Following</strong> filter.</p><pre class="prism-code language-js" style="background-color:#2a2734;color:#9a86fd"><div class="token-line" style="color:#9a86fd"><span class="line-number">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">2</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">3</span><span class="token plain">    allMdx</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> nodes </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token comment" style="color:#6c6783">// Map the value of `allMdx` to the variable `nodes`</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">4</span><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">useStaticQuery</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token maybe-class-name">BlogPostsMetaData</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">7</span><span class="token plain">  </span><span class="token comment" style="color:#6c6783">// `postCount` was defined in the scope of the component</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">9</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> pages </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">10</span><span class="token plain">    following</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> nodes</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">11</span><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token method function property-access" style="color:#9a86fd">filter</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token parameter">post</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#e09142">=&gt;</span><span class="token plain"> post</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">frontmatter</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">following</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">!==</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;none&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">12</span><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token method function property-access" style="color:#9a86fd">slice</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> postCount</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">13</span><span class="token plain">    popular</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> nodes</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">14</span><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token method function property-access" style="color:#9a86fd">filter</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token parameter">post</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#e09142">=&gt;</span><span class="token plain"> post</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">frontmatter</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">rank</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">15</span><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token method function property-access" style="color:#9a86fd">sort</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token parameter">rank</span><span class="token parameter punctuation" style="color:#6c6783">,</span><span class="token parameter"> rankAsc</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#e09142">=&gt;</span><span class="token plain"> rank</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">frontmatter</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">rank</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">-</span><span class="token plain"> rankAsc</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">frontmatter</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token property-access">rank</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">16</span><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token method function property-access" style="color:#9a86fd">slice</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token number" style="color:#e09142">0</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> postCount</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">17</span><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">19</span><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain">activeFilter</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token function" style="color:#9a86fd">useRecoilState</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token maybe-class-name">FilterAtom</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9a86fd"><span class="line-number">20</span><span class="token plain" style="display:inline-block">
</span></div></pre><div class="additional-comment">The Filter in JS</div><p>As you can see in the snippet above, a GraphQL query is made to retrieve the necessary data about each blog post. The query returns an array of records which are then checked for the properties. Posts with the <strong>following</strong> property, but not a <strong>rank</strong>, are placed into the <strong>following</strong> key for <code>pages</code> (<code>pages[&#x27;following&#x27;]</code>). Posts with a rank, are placed into the <strong>popular</strong> key for <code>pages</code> (<code>pages[&#x27;popular&#x27;]</code>).
Depending on the state of <code>activeFilter</code>, the page will render one of the two (either <code>pages[&#x27;following&#x27;]</code> or <code>pages[&#x27;popular&#x27;]</code>).</p><h1>How this could be done using a Server</h1><p>We could use a similar concept as already shown; however, rather than manually needing to update the frontmatter of each blog page - we could use GraphQL <a href="https://graphql.org/learn/queries/"><strong>mutations</strong></a>. Mutations are used to update the value of a field on the server. We could combine a <code>useEffect</code> and a mutation regarding the change of a field named <code>hits</code>.
Then, when we are rendering the articles, we can sort by <code>hits</code> in descending order for the <strong>Popular</strong> filter.</p><div></div><section class="post-end-mention"><p>Thanks for reading,</p><p>- <!-- -->Not Toby Bridle</p></section></div></section></div><div class="post-bookmark"><span>Bookmark?</span><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="bookmark" class="svg-inline--fa fa-bookmark fa-w-12 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"></path></svg></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/how-the-filter-works/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d69664561c90ab43065f.js"],"app":["/app-267c7bc75c8d6c0d2c8d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8e7724f5a34ba8d58f7b.js"],"component---src-pages-articles-back-end-js":["/component---src-pages-articles-back-end-js-ab8bb9a87382a0cb7537.js"],"component---src-pages-articles-front-end-js":["/component---src-pages-articles-front-end-js-d478ef2c95fce318910c.js"],"component---src-pages-articles-js":["/component---src-pages-articles-js-0840dc27438bf24cc25e.js"],"component---src-pages-bookmarks-js":["/component---src-pages-bookmarks-js-43d2d9042a35bab86bb3.js"],"component---src-pages-explore-js":["/component---src-pages-explore-js-e553e1c800da80bed9bf.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f2a6f35c20f28eaebefe.js"],"component---src-pages-mdx-frontmatter-slug-js":["/component---src-pages-mdx-frontmatter-slug-js-adba15d96dca62afcad8.js"]};/*]]>*/</script><script src="/polyfill-d69664561c90ab43065f.js" nomodule=""></script><script src="/component---src-pages-mdx-frontmatter-slug-js-adba15d96dca62afcad8.js" async=""></script><script src="/dd5287d64aad19286121411131caa95e8f1b285a-387515786fb9c57f3263.js" async=""></script><script src="/commons-bac9da5dacef3d40fc4f.js" async=""></script><script src="/cb1608f2-37f2ece6bf5c23bd2961.js" async=""></script><script src="/app-267c7bc75c8d6c0d2c8d.js" async=""></script><script src="/0a301732-c83d1dc0decdc7b88c62.js" async=""></script><script src="/framework-308bfafcc2bf57ff7eac.js" async=""></script><script src="/webpack-runtime-ee42ac0f5db69c33ee5a.js" async=""></script></body></html>