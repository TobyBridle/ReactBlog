{"version":3,"file":"component---src-pages-bookmarks-js-301f2f9690309d200974.js","mappings":"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","sources":["webpack://blog/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://blog/./node_modules/recoil-persist/dist/index.js","webpack://blog/./src/pages/bookmarks.js","webpack://blog/./src/state/bookmarkAtom.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/tobybridle/Desktop/Programming/gatsby_blog/blog/node_modules/@babel/runtime/regenerator/index.js\");\n\nvar _asyncToGenerator = require(\"/Users/tobybridle/Desktop/Programming/gatsby_blog/blog/node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.recoilPersist = void 0;\n\nvar recoil_1 = require(\"recoil\");\n/**\n * Recoil module to persist state to storage\n *\n * @param config Optional configuration object\n * @param config.key Used as key in local storage, defaults to `recoil-persist`\n * @param config.storage Local storage to use, defaults to `localStorage`\n */\n\n\nvar recoilPersist = function recoilPersist() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (typeof window === 'undefined') {\n    return {\n      persistAtom: function persistAtom() {}\n    };\n  }\n\n  var _config$key = config.key,\n      key = _config$key === void 0 ? 'recoil-persist' : _config$key,\n      _config$storage = config.storage,\n      storage = _config$storage === void 0 ? localStorage : _config$storage;\n\n  var persistAtom = function persistAtom(_ref) {\n    var onSet = _ref.onSet,\n        node = _ref.node,\n        trigger = _ref.trigger,\n        setSelf = _ref.setSelf;\n\n    if (trigger === 'get') {\n      var state = getState();\n\n      if (typeof state.then === 'function') {\n        state.then(function (s) {\n          if (s.hasOwnProperty(node.key)) {\n            setSelf(s[node.key]);\n          }\n        });\n      }\n\n      if (state.hasOwnProperty(node.key)) {\n        setSelf(state[node.key]);\n      }\n    }\n\n    onSet( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(newValue) {\n        var state;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = getState();\n\n                if (typeof state.then === 'function') {\n                  state.then(function (s) {\n                    return updateState(newValue, s, node.key);\n                  });\n                } else {\n                  updateState(newValue, state, node.key);\n                }\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n\n  var updateState = function updateState(newValue, state, key) {\n    if (newValue !== null && newValue !== undefined && newValue instanceof recoil_1.DefaultValue && state.hasOwnProperty(key)) {\n      delete state[key];\n    } else {\n      state[key] = newValue;\n    }\n\n    setState(state);\n  };\n\n  var getState = function getState() {\n    var toParse = storage.getItem(key);\n\n    if (toParse === null || toParse === undefined) {\n      return {};\n    }\n\n    if (typeof toParse === 'string') {\n      return parseState(toParse);\n    }\n\n    if (typeof toParse.then === 'function') {\n      return toParse.then(parseState);\n    }\n\n    return {};\n  };\n\n  var parseState = function parseState(state) {\n    if (state === undefined) {\n      return {};\n    }\n\n    try {\n      return JSON.parse(state);\n    } catch (e) {\n      console.error(e);\n      return {};\n    }\n  };\n\n  var setState = function setState(state) {\n    try {\n      if (typeof storage.mergeItem === 'function') {\n        storage.mergeItem(key, JSON.stringify(state));\n      } else {\n        storage.setItem(key, JSON.stringify(state));\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return {\n    persistAtom: persistAtom\n  };\n};\n\nexports.recoilPersist = recoilPersist;","import React from 'react';\n\nimport Layout from '../components/layout';\nimport PageMeta from '../components/Explore/PageMeta/PageMeta';\nimport PageSplit from '../components/PageSplit/PageSplit';\n\nimport { useRecoilState } from 'recoil';\nimport navigationAtom from '../state/navigationAtom';\n\nimport { useStaticQuery, graphql, Link } from 'gatsby';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClock } from '@fortawesome/free-regular-svg-icons';\n\nimport \"./bookmarks.css\"\nimport BookmarkAtom from '../state/bookmarkAtom';\nimport SearchAtom from '../state/searchAtom';\n\nconst truncate = (str, maxlength=48) => {\n  if(!str) return \"...\"\n  return str.length > maxlength ? str.slice(0, maxlength).trim() + \"...\" : str;\n}\n\nexport default function Bookmarks() {\n\n    const [, setURL] = useRecoilState(navigationAtom);\n    const [searchResults] = useRecoilState(SearchAtom);\n    const [bookmarkedPosts] = useRecoilState(BookmarkAtom);\n\n    let origin = process.env.GATSBY_PAGE_ORIGIN;\n\n    let  {\n        allMdx: { nodes }\n    } = useStaticQuery(BlogPostsMetaData)\n\n    const [posts, setPosts] = React.useState([]);\n\n    React.useEffect(() => {\n        setPosts(nodes.filter(post => bookmarkedPosts.includes(post.frontmatter.slug)));\n    }, [])\n\n    const meta = {\n        title: \"Your Bookmarks\",\n        description: new Date().toJSON().slice(0, 10).replace(/-/g, \"/\") +\n      \" - \" + \"Want to read an article later? Press \\\"Bookmark?\\\" and it'll stay here for another time.\"\n    }\n\n    return (\n        <Layout meta={meta} className=\"use-temp\">\n        <PageMeta title=\"Bookmarks\" description=\"Rediscover some articles you've never finished.\" className=\"bookmark-page\" />\n        <section className=\"PostsContainer AllArticles-Flow\">\n            {\n                posts.map((post) => {\n\n                    const {\n                        frontmatter: {\n                            title,\n                            description,\n                            articleThumbnail,\n                            author,\n                            authorPicture,\n                            slug,\n                            tags,\n                        },\n                        timeToRead\n                    } = post;\n\n\n                    return (\n\n                    <Link key={slug} className=\"blog-route\" to={slug} onClick={() => setURL({ routeTitle: title, routeSlug: slug })}>\n                        <div className=\"blog-route-left\">\n                        <div className=\"blog-route-author-info\">\n                            <div className=\"blog-route-author-profile\">\n                            <img\n                                src={authorPicture}\n                                alt={`${author}'s Profile`}\n                            />\n                            </div>\n                            <span>{author}</span>\n                        </div>\n                        <div className=\"blog-route-title\">{truncate(title)}</div>\n                        <p className=\"blog-route-description\" data-nosnippet>\n                            {description}\n                        </p>\n                        <div className=\"blog-route-tags\" data-nosnippet>\n                            {tags.length > 1 ? (\n                            tags.map((tag) => {\n                                return (\n                                <div\n                                    key={slug + tag}\n                                    className=\"blog-route-tag\"\n                                    data-nosnippet\n                                >\n                                    {tag}\n                                </div>\n                                );\n                            })\n                            ) : (\n                            <div className=\"blog-route-tag\" data-nosnippet>\n                                {tags}\n                            </div>\n                            )}\n                        </div>\n                        </div>\n                        <div className=\"blog-route-right\">\n                        <div className=\"blog-route-thumbnail\">\n                            <img src={`${origin}/assets/Thumbnails/${articleThumbnail}`} alt={\"Article Thumbnail\"} />\n                        </div>\n                        <div className=\"blog-route-estimated\" data-nosnippet>\n                            <FontAwesomeIcon\n                            className=\"blog-route-estimated-icon\"\n                            icon={faClock}\n                            />\n                            <span data-nosnippet>{timeToRead} min(s)</span>\n                        </div>\n                        </div>\n                        <PageSplit size=\"large\" />\n                    </Link>\n                    )\n\n            })\n        }\n        </section>\n    </Layout>\n  )\n}\n\nconst BlogPostsMetaData = graphql`\n  query {\n    allMdx{\n      nodes {\n        frontmatter {\n          title\n          description\n          articleThumbnail\n          author\n          authorPicture\n          slug\n          tags\n        }\n        timeToRead\n      }\n    }\n  }\n`;","import { atom } from \"recoil\";\nimport { recoilPersist } from \"recoil-persist\";\n\nconst { persistAtom } = recoilPersist({\n    key: \"bookmark-persist\",\n});\n\nconst BookmarkAtom = atom({\n    key: \"BookmarkAtom\",\n    default: [],\n    effects_UNSTABLE: [persistAtom],\n})\n\nexport default BookmarkAtom;"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","module","exports","fn","self","this","args","arguments","apply","err","undefined","__esModule","_regeneratorRuntime","_asyncToGenerator","recoil_1","config","length","window","persistAtom","_config$key","_config$storage","storage","localStorage","_ref","onSet","node","trigger","setSelf","state","getState","s","hasOwnProperty","_ref2","mark","_callee","newValue","wrap","_context","prev","next","updateState","stop","_x","DefaultValue","setState","toParse","getItem","parseState","JSON","parse","e","console","mergeItem","stringify","setItem","Bookmarks","setURL","useRecoilState","navigationAtom","bookmarkedPosts","SearchAtom","BookmarkAtom","nodes","useStaticQuery","BlogPostsMetaData","allMdx","React","posts","setPosts","filter","post","includes","frontmatter","slug","meta","title","description","Date","toJSON","slice","replace","className","map","str","maxlength","articleThumbnail","author","authorPicture","tags","timeToRead","to","onClick","routeTitle","routeSlug","src","alt","trim","tag","origin","icon","faClock","size","recoilPersist","atom","default","effects_UNSTABLE"],"sourceRoot":""}